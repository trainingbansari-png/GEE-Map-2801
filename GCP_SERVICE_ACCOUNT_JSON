import ee
import json
import streamlit as st
from google.oauth2 import service_account

# Retrieve the secret from Streamlit secrets
service_account_json = st.secrets["GCP"]["service_account_json"]

# Parse the JSON and create credentials
credentials = service_account.Credentials.from_service_account_info(
    json.loads(service_account_json)
)

# Initialize Earth Engine
ee.Initialize(credentials)

st.write("Earth Engine API initialized!")
